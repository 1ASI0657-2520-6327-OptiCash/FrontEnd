<form [formGroup]="contributionForm" (ngSubmit)="guardarContribution()">

  <div class="form-field">
    <label>Factura *</label>
    <select formControlName="billId">
      <option *ngFor="let b of bills" [value]="b.id">{{ b.description }} - {{ b.monto | currency }}</option>
    </select>
  </div>

  <div class="form-field">
    <label>Hogar *</label>
    <select formControlName="householdId">
      <option *ngFor="let h of households" [value]="h.id">{{ h.name }}</option>
    </select>
  </div>

  <div class="form-field">
    <label>Descripción *</label>
    <input type="text" formControlName="description" />
  </div>

  <div class="form-field">
    <label>Estrategia *</label>
    <select formControlName="strategy">
      <option value="EQUAL">Igualitaria</option>
      <option value="INCOME_BASED">Según ingresos</option>
    </select>
  </div>

  <div class="form-field">
    <label>Fecha límite *</label>
    <input type="date" formControlName="fechaLimite" />
  </div>

  <button type="submit" [disabled]="contributionForm.invalid">Crear Contribución</button>
</form>

<h2>Contribuciones del hogar</h2>
<ul>
  <li *ngFor="let c of contributions">
    <span class="description">{{ c.description }}</span>
    <span class="strategy">{{ c.strategy }}</span>
    <span class="fecha">{{ c.fechaLimite }}</span>
    <span class="factura">Factura: {{ c.billId }}</span>
  </li>
</ul>


<p-toast></p-toast>